(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{219:function(t,a,e){"use strict";e.r(a);var s=e(0),r=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"more"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#more","aria-hidden":"true"}},[t._v("#")]),t._v(" More")]),t._v(" "),e("p",[t._v("Each of the following solutions has been proven to be effective and we hope to be helpful to you.")]),t._v(" "),e("p",[t._v("The data directory for MySQL is set to /data/mysql by default. If you want to modify MySQL Data Directory, following are the steps for you:")]),t._v(" "),e("h2",{attrs:{id:"modify-mysql-data-directory"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#modify-mysql-data-directory","aria-hidden":"true"}},[t._v("#")]),t._v(" Modify MySQL Data Directory")]),t._v(" "),e("p",[t._v("The data directory for MySQL is set to "),e("em",[t._v("/data/mysql")]),t._v(" by default. If you want to modify MySQL Data Directory, following are the steps for you:")]),t._v(" "),e("ol",[e("li",[t._v("Stop the MySQL Service"),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("sudo sytemctl stop mysqld\n")])])])]),t._v(" "),e("li",[t._v("Move the "),e("em",[t._v("/data/mysql")]),t._v(" to the destination directory, e.g "),e("em",[t._v("/data/mysql2")])]),t._v(" "),e("li",[t._v("Modify the location of this folder modifying the"),e("code",[t._v("/etc/my.cnf")]),t._v(" file, as shown below:"),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("datadir=/data/mysql2\n")])])])]),t._v(" "),e("li",[t._v("Restart the MySQL"),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("sudo sytemctl start mysqld\n")])])])])]),t._v(" "),e("h2",{attrs:{id:"set-the-binary-log"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#set-the-binary-log","aria-hidden":"true"}},[t._v("#")]),t._v(" Set The Binary Log")]),t._v(" "),e("p",[t._v('The binary log contains "event" that describe database changes such as table creation operations or changes to table data. It also contains events for statements that potentially could have made changes (for example, a DELETE which matched no rows), unless row-based logging is used. The binary log also contains information about how long each statement took that updated data.')]),t._v(" "),e("h3",{attrs:{id:"binary-log-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#binary-log-configuration","aria-hidden":"true"}},[t._v("#")]),t._v(" Binary log configuration")]),t._v(" "),e("p",[t._v("You can modify the MySQL configuration "),e("em",[t._v("/etc/my.cnf")]),t._v(" to change the binary log settings"),e("br")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("log_bin = mysql-bin      # enable Binary log\nbinlog_format = mixed    # Binary log format\nexpire_logs_days = 7     # Binary log expire time\n")])])]),e("h3",{attrs:{id:"binary-log-file-size"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#binary-log-file-size","aria-hidden":"true"}},[t._v("#")]),t._v(" Binary log file size")]),t._v(" "),e("p",[t._v("Some times, there a lot of event for your database, then the binary log file size very rapid growth and your disk space may not enough, if there no space on disk, your MySQL Service can not start.")]),t._v(" "),e("p",[t._v("Suggest you change the expire_logs_day to more smaller if you binary log file size is too big")]),t._v(" "),e("h2",{attrs:{id:"secure-mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#secure-mysql","aria-hidden":"true"}},[t._v("#")]),t._v(" Secure MySQL")]),t._v(" "),e("p",[t._v("Once you have created a new database and user for your application, connect to your MySQL server and follow these recommendations:")]),t._v(" "),e("ul",[e("li",[t._v("Remove anonymous users:")])]),t._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[t._v("mysql"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DELETE")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" mysql"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("User")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("ul",[e("li",[t._v("Remove the "),e("em",[t._v("test")]),t._v(" database and access to it:")])]),t._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[t._v("mysql"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DROP")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DATABASE")]),t._v(" test"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmysql"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DELETE")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" mysql"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("db "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" Db"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("OR")]),t._v(" Db"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test\\\\_%'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("ul",[e("li",[t._v("Disallow root login remotely:")])]),t._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[t._v("mysql"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("DELETE")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("FROM")]),t._v(" mysql"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("user")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("WHERE")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("User")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'root'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("AND")]),t._v(" Host "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("NOT")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("IN")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localhost'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'127.0.0.1'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'::1'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("ul",[e("li",[t._v("Don't forget to reload the privileges tables to apply the changes:")])]),t._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[t._v("mysql"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" FLUSH "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("PRIVILEGES")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("ul",[e("li",[t._v("Change your "),e("em",[t._v("root")]),t._v(" user password.")]),t._v(" "),e("li",[t._v("It is strongly recommended that you do not have empty passwords for any user accounts when using the server for any production work."),e("br")]),t._v(" "),e("li",[t._v("If you don't need remote access, uncomment the line")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("#bind-address=127.0.0.1\n")])])]),e("ul",[e("li",[t._v("in the MySQL configuration file to only listen for connections on the local machine. Restart the server once done.")])]),t._v(" "),e("blockquote",[e("p",[t._v("Prior to MySQL 5.7, when you installed MySQL, it included a test database by default. This database is only used for testing, but all users who can connect to MySQL have almost all the permissions of the test library, so there are certain security risks. From an information security perspective, if you find that you have the test database in MySQL, be sure to remove it.")])])])},[],!1,null,null,null);a.default=r.exports}}]);