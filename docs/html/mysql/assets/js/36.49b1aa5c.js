(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{188:function(t,s,a){"use strict";a.r(s);var e=a(0),r=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"设置-mysql-远程访问"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置-mysql-远程访问","aria-hidden":"true"}},[t._v("#")]),t._v(" 设置 MySQL 远程访问")]),t._v(" "),a("p",[t._v("当你想通过本地的电脑的MySQL客户端（例如：Navicat）连接服务器上的MySQL的时候，就需要设置 MySQL 的远程访问。")]),t._v(" "),a("p",[t._v("数据库是高安全应用，设置远程访问，最少两个独立的步骤：")]),t._v(" "),a("h2",{attrs:{id:"安全组放通3306端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安全组放通3306端口","aria-hidden":"true"}},[t._v("#")]),t._v(" 安全组放通3306端口")]),t._v(" "),a("p",[t._v("一般来说，MySQL使用的是3306端口。")]),t._v(" "),a("p",[t._v("首先，我们要登录到云控制台，打开云服务器所在的安全组中，保证3306端口是开启的。")]),t._v(" "),a("p",[a("img",{attrs:{src:"http://libs.websoft9.com/Websoft9/DocsPicture/zh/mysql/mysql3306-websoft9.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"开启mysql远程连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开启mysql远程连接","aria-hidden":"true"}},[t._v("#")]),t._v(" 开启MySQL远程连接")]),t._v(" "),a("p",[t._v("安全组开启后，还没有完成MySQL远程方案的设置。")]),t._v(" "),a("p",[t._v("接下来，还需要对 MySQL 自身进行设置，以便其接受外部网络的访问")]),t._v(" "),a("p",[t._v("我们提供两种开启MySQL的远程连接的方案，第一种是可视化方式，第二种是命令方式：")]),t._v(" "),a("h4",{attrs:{id:"可视化开启（推荐）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可视化开启（推荐）","aria-hidden":"true"}},[t._v("#")]),t._v(" 可视化开启（推荐）")]),t._v(" "),a("p",[t._v("在phpMyAdmin中开启远程只需要将root账号的访问方式改成“任意方式访问”，具体如下：")]),t._v(" "),a("ol",[a("li",[t._v("打开账户->找到主机名为127.0.0.1的root用户，点击“修改权限”\n"),a("img",{attrs:{src:"http://libs.websoft9.com/Websoft9/DocsPicture/zh/mysql/mysql-openremote001-websoft9.png",alt:""}})]),t._v(" "),a("li",[t._v("在“登录信息”选项卡中，将“主机名”下拉菜单选项更改为“任意主机”，点击执行\n"),a("img",{attrs:{src:"http://libs.websoft9.com/Websoft9/DocsPicture/zh/mysql/mysql-openremote002-websoft9.png",alt:""}})]),t._v(" "),a("li",[t._v("以上两步就完成了开启远程连接的工作")])]),t._v(" "),a("h4",{attrs:{id:"命令开启"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#命令开启","aria-hidden":"true"}},[t._v("#")]),t._v(" 命令开启")]),t._v(" "),a("p",[t._v("如果您的镜像中没有安装phpMyAdmin，那么就需要通过命令方式开启远程连接。具体如下：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("使用SSH连接到服务器，登录到MySQL")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("mysql -u root -p 数据库root密码\n")])])])]),t._v(" "),a("li",[a("p",[t._v("写入SQL语句,开启远程访问")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("mysql>  use mysql;\nmysql>  update user set host = '%' where user = 'root';\n")])])])]),t._v(" "),a("li",[a("p",[t._v("运行下面的语句，查看设置是否生效（显示%的值）")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("select host,user from user where user='root'\n")])])])]),t._v(" "),a("li",[a("p",[t._v("退出MySQL命令，回到Linux命名模式，重启MySQL")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("systemctl restart mysqld\n")])])]),a("blockquote",[a("p",[t._v("本步骤是必须的，否则在用Navicat Premium/MySQL-Front等工具测试远程的时候会报错误信息")])])])])])},[],!1,null,null,null);s.default=r.exports}}]);