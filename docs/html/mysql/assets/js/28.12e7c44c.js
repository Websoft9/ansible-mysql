(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{202:function(t,a,s){"use strict";s.r(a);var r=s(0),e=Object(r.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"故障处理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#故障处理","aria-hidden":"true"}},[t._v("#")]),t._v(" 故障处理")]),t._v(" "),s("p",[t._v("此处收集使用 MySQL 过程中最常见的故障，供您参考")]),t._v(" "),s("blockquote",[s("p",[t._v("大部分故障与云平台密切相关，如果你可以确认故障的原因是云平台造成的，请参考"),s("a",{attrs:{href:"https://support.websoft9.com/docs/faq/zh/tech-instance.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("云平台文档"),s("OutboundLink")],1)])]),t._v(" "),s("h4",{attrs:{id:"导入数据库报错？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导入数据库报错？","aria-hidden":"true"}},[t._v("#")]),t._v(" 导入数据库报错？")]),t._v(" "),s("p",[t._v("查看脚本里面是否有创建数据库的脚本")]),t._v(" "),s("h4",{attrs:{id:"数据库服务无法启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库服务无法启动","aria-hidden":"true"}},[t._v("#")]),t._v(" 数据库服务无法启动")]),t._v(" "),s("p",[t._v("数据库服务无法启动最常见的问题包括：磁盘空间不足，内存不足，配置文件错误。"),s("br"),t._v("\n建议先通过命令进行排查")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# 查看磁盘空间\ndf -lh\n\n# 查看内存使用\nfree -lh\n")])])]),s("h4",{attrs:{id:"数据库日志文件太大，导致磁盘空间不足？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据库日志文件太大，导致磁盘空间不足？","aria-hidden":"true"}},[t._v("#")]),t._v(" 数据库日志文件太大，导致磁盘空间不足？")]),t._v(" "),s("p",[t._v("默认安装，mysql会自动开启binlog，binlog是一个二进制格式的文件，用于记录用户对数据库"),s("strong",[t._v("更新的"),s("strong",[s("strong",[t._v("SQL语句")])]),t._v("信息")]),t._v("，例如更改数据库表和更改内容的SQL语句都会记录到binlog里。")]),t._v(" "),s("p",[t._v("binlog主要用于出现没有备份的情况下，恢复数据库。但binlog会占用较大空间，长期不清理会让剩余磁盘空间为0，从而影响数据库或服务器无法启动")]),t._v(" "),s("p",[t._v("如果对自己的备份有信心，不需要binlog功能，参考如下步骤关闭之：")]),t._v(" "),s("ol",[s("li",[t._v("编辑 "),s("router-link",{attrs:{to:"/zh/stack-components.html#mysql"}},[t._v("MySQL 配置文件")]),t._v("，注释掉 binlog 日志")],1)]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("#log-bin=mysql-bin  \n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("重启mysql")])]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("systemctl restart mysqld\n")])])]),s("h4",{attrs:{id:"容器无法启动？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#容器无法启动？","aria-hidden":"true"}},[t._v("#")]),t._v(" 容器无法启动？")]),t._v(" "),s("p",[t._v("最常见的原因是用户没有按照该容器的要求，设置必须的环境变量，导致容器启动失败")]),t._v(" "),s("h4",{attrs:{id:"容器端口映射失败？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#容器端口映射失败？","aria-hidden":"true"}},[t._v("#")]),t._v(" 容器端口映射失败？")]),t._v(" "),s("p",[t._v("如果用户无法把握宿主机（服务器）操作系统端口与容器端口的映射关系、可用性情况，请开启端口自动映射")]),t._v(" "),s("h4",{attrs:{id:"mysql-容器无法远程访问？"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql-容器无法远程访问？","aria-hidden":"true"}},[t._v("#")]),t._v(" MySQL 容器无法远程访问？")]),t._v(" "),s("p",[t._v("导致这个问题的可能原因有三点：")]),t._v(" "),s("ol",[s("li",[t._v("端口映射设置错误，导致容器没有网络")]),t._v(" "),s("li",[t._v("容器没有开启远程访问权限")]),t._v(" "),s("li",[t._v("MySQL 8.0 特殊设置要求")])])])},[],!1,null,null,null);a.default=e.exports}}]);