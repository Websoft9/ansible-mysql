(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{199:function(a,t,e){"use strict";e.r(t);var s=e(0),o=Object(s.a)({},function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"更多"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更多","aria-hidden":"true"}},[a._v("#")]),a._v(" 更多...")]),a._v(" "),e("p",[a._v("下面每一个方案，都经过实践证明行之有效，希望能够对你有帮助")]),a._v(" "),e("h2",{attrs:{id:"更换mysql数据目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#更换mysql数据目录","aria-hidden":"true"}},[a._v("#")]),a._v(" 更换MySQL数据目录")]),a._v(" "),e("p",[a._v("The data directory for MySQL is set to "),e("em",[a._v("/data/mysql")]),a._v(" by default. If you want to modify MySQL Data Directory, following are the steps for you:")]),a._v(" "),e("ol",[e("li",[a._v("Stop the MySQL Service"),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("sudo sytemctl stop mysqld\n")])])])]),a._v(" "),e("li",[a._v("Move the "),e("em",[a._v("/data/mysql")]),a._v(" to the destination directory, e.g "),e("em",[a._v("/data/mysql2")])]),a._v(" "),e("li",[a._v("Modify the location of this folder modifying the"),e("code",[a._v("/etc/my.cnf")]),a._v(" file, as shown below:"),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("datadir=/data/mysql2\n")])])])]),a._v(" "),e("li",[a._v("Restart the MySQL"),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("sudo sytemctl start mysqld\n")])])])])]),a._v(" "),e("h2",{attrs:{id:"设置-binary-log"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置-binary-log","aria-hidden":"true"}},[a._v("#")]),a._v(" 设置 Binary Log")]),a._v(" "),e("p",[a._v('The binary log contains "event" that describe database changes such as table creation operations or changes to table data. It also contains events for statements that potentially could have made changes (for example, a DELETE which matched no rows), unless row-based logging is used. The binary log also contains information about how long each statement took that updated data.')]),a._v(" "),e("h3",{attrs:{id:"binary-log-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#binary-log-configuration","aria-hidden":"true"}},[a._v("#")]),a._v(" Binary log configuration")]),a._v(" "),e("p",[a._v("You can modify the MySQL configuration "),e("em",[a._v("/etc/my.cnf")]),a._v(" to change the binary log settings"),e("br")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("log_bin = mysql-bin      # enable Binary log\nbinlog_format = mixed    # Binary log format\nexpire_logs_days = 7     # Binary log expire time\n")])])]),e("h3",{attrs:{id:"binary-log-file-size"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#binary-log-file-size","aria-hidden":"true"}},[a._v("#")]),a._v(" Binary log file size")]),a._v(" "),e("p",[a._v("Some times, there a lot of event for your database, then the binary log file size very rapid growth and your disk space may not enough, if there no space on disk, your MySQL Service can not start.")]),a._v(" "),e("p",[a._v("Suggest you change the expire_logs_day to more smaller if you binary log file size is too big")])])},[],!1,null,null,null);t.default=o.exports}}]);