<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>More | MySQL Administrator Guide</title>
    <meta name="description" content="You can get the Installation of Image,Administrator,Configuration of the MySQL from this documentation.">
    <link rel="icon" href="/docs/mysql/favcon.ico">
    
    <link rel="preload" href="/docs/mysql/assets/css/0.styles.91c66b00.css" as="style"><link rel="preload" href="/docs/mysql/assets/js/app.a0166c7c.js" as="script"><link rel="preload" href="/docs/mysql/assets/js/2.a9bd2ee6.js" as="script"><link rel="preload" href="/docs/mysql/assets/js/11.7d3e3c58.js" as="script"><link rel="prefetch" href="/docs/mysql/assets/js/10.6a69f346.js"><link rel="prefetch" href="/docs/mysql/assets/js/12.0de37408.js"><link rel="prefetch" href="/docs/mysql/assets/js/13.783f30be.js"><link rel="prefetch" href="/docs/mysql/assets/js/14.25dbbb9f.js"><link rel="prefetch" href="/docs/mysql/assets/js/15.3f50e95c.js"><link rel="prefetch" href="/docs/mysql/assets/js/16.53751701.js"><link rel="prefetch" href="/docs/mysql/assets/js/17.13c2aa41.js"><link rel="prefetch" href="/docs/mysql/assets/js/18.5ea8b6d2.js"><link rel="prefetch" href="/docs/mysql/assets/js/19.3309c395.js"><link rel="prefetch" href="/docs/mysql/assets/js/20.d743e89f.js"><link rel="prefetch" href="/docs/mysql/assets/js/21.8992b381.js"><link rel="prefetch" href="/docs/mysql/assets/js/22.d652a897.js"><link rel="prefetch" href="/docs/mysql/assets/js/23.eb8cfb76.js"><link rel="prefetch" href="/docs/mysql/assets/js/24.45637ce5.js"><link rel="prefetch" href="/docs/mysql/assets/js/25.37631e85.js"><link rel="prefetch" href="/docs/mysql/assets/js/26.8ec18e88.js"><link rel="prefetch" href="/docs/mysql/assets/js/27.df9f7052.js"><link rel="prefetch" href="/docs/mysql/assets/js/28.12e7c44c.js"><link rel="prefetch" href="/docs/mysql/assets/js/29.95bcd41b.js"><link rel="prefetch" href="/docs/mysql/assets/js/3.33782ef0.js"><link rel="prefetch" href="/docs/mysql/assets/js/30.3176635e.js"><link rel="prefetch" href="/docs/mysql/assets/js/31.a1690630.js"><link rel="prefetch" href="/docs/mysql/assets/js/32.dbe03c77.js"><link rel="prefetch" href="/docs/mysql/assets/js/33.229a595e.js"><link rel="prefetch" href="/docs/mysql/assets/js/34.95b1d19c.js"><link rel="prefetch" href="/docs/mysql/assets/js/35.9307ea24.js"><link rel="prefetch" href="/docs/mysql/assets/js/36.49b1aa5c.js"><link rel="prefetch" href="/docs/mysql/assets/js/37.a0c0f0cf.js"><link rel="prefetch" href="/docs/mysql/assets/js/38.6b7a9b78.js"><link rel="prefetch" href="/docs/mysql/assets/js/39.929554ad.js"><link rel="prefetch" href="/docs/mysql/assets/js/4.b72cfc44.js"><link rel="prefetch" href="/docs/mysql/assets/js/40.7491eac6.js"><link rel="prefetch" href="/docs/mysql/assets/js/41.de5da585.js"><link rel="prefetch" href="/docs/mysql/assets/js/42.99fe3dae.js"><link rel="prefetch" href="/docs/mysql/assets/js/43.b95af125.js"><link rel="prefetch" href="/docs/mysql/assets/js/44.3e769886.js"><link rel="prefetch" href="/docs/mysql/assets/js/5.dc13c85c.js"><link rel="prefetch" href="/docs/mysql/assets/js/6.6cc77436.js"><link rel="prefetch" href="/docs/mysql/assets/js/7.9a91d7ac.js"><link rel="prefetch" href="/docs/mysql/assets/js/8.8de5acd0.js"><link rel="prefetch" href="/docs/mysql/assets/js/9.077969ca.js">
    <link rel="stylesheet" href="/docs/mysql/assets/css/0.styles.91c66b00.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/mysql/" class="home-link router-link-active"><!----> <span class="site-name">MySQL Administrator Guide</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/mysql/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://support.websoft9.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/mysql/solution-more.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/docs/mysql/zh/solution-more.html" class="nav-link">中文</a></li></ul></div></div> <a href="https://github.com/Websoft9/ansible-mysql" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/mysql/" class="nav-link">Home</a></div><div class="nav-item"><a href="https://support.websoft9.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/mysql/solution-more.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/docs/mysql/zh/solution-more.html" class="nav-link">中文</a></li></ul></div></div> <a href="https://github.com/Websoft9/ansible-mysql" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/mysql/" class="sidebar-link">Overview</a></li><li><a href="/docs/mysql/stack-deployment.html" class="sidebar-link">Deployment</a></li><li><a href="/docs/mysql/stack-installation.html" class="sidebar-link">Initial Installation</a></li><li><a href="/docs/mysql/stack-components.html" class="sidebar-link">Parameters</a></li><li><a href="/docs/mysql/stack-accounts.html" class="sidebar-link">Username and Password</a></li><li><a href="https://support.websoft9.com/docs/faq/tech-instance.html" target="_blank" rel="noopener noreferrer" class="sidebar-link">Cloud Server<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Best Practices</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/mysql/solution-study.html" class="sidebar-link">MySQL commands</a></li><li><a href="/docs/mysql/solution-password.html" class="sidebar-link">Modify and reset MySQL password</a></li><li><a href="/docs/mysql/solution-remote.html" class="sidebar-link">MySQL remote connection</a></li><li><a href="/docs/mysql/solution-phpmyadmin.html" class="sidebar-link">GUI: phpMyAdmin</a></li><li><a href="/docs/mysql/solution-jspmyadmin.html" class="sidebar-link">GUI: jspMyAdmin</a></li><li><a href="/docs/mysql/solution-navicat.html" class="sidebar-link">GUI: Navicat</a></li><li><a href="/docs/mysql/solution-workbench.html" class="sidebar-link">GUI: Workbench</a></li><li><a href="/docs/mysql/solution-mysqlfront.html" class="sidebar-link">GUI: MySQL-Front</a></li><li><a href="/docs/mysql/solution-backup.html" class="sidebar-link">Backup &amp; Restore</a></li><li><a href="/docs/mysql/solution-upgrade.html" class="sidebar-link">Update &amp; Upgrade</a></li><li><a href="/docs/mysql/solution-more.html" class="active sidebar-link">More</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/mysql/solution-more.html#modify-mysql-data-directory" class="sidebar-link">Modify MySQL Data Directory</a></li><li class="sidebar-sub-header"><a href="/docs/mysql/solution-more.html#set-the-binary-log" class="sidebar-link">Set The Binary Log</a></li><li class="sidebar-sub-header"><a href="/docs/mysql/solution-more.html#secure-mysql" class="sidebar-link">Secure MySQL</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Administrator</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/mysql/admin-services.html" class="sidebar-link">Start or Stop the Services</a></li><li><a href="https://support.websoft9.com/docs/linux/admin-practices.html" target="_blank" rel="noopener noreferrer" class="sidebar-link">Linux<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://support.websoft9.com/docs/windows/admin-practices.html" target="_blank" rel="noopener noreferrer" class="sidebar-link">Windows<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Other</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/mysql/else-faq.html" class="sidebar-link">FAQ</a></li><li><a href="/docs/mysql/else-troubleshooting.html" class="sidebar-link">Troubleshooting</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="more"><a href="#more" aria-hidden="true" class="header-anchor">#</a> More</h1> <p>Each of the following solutions has been proven to be effective and we hope to be helpful to you.</p> <p>The data directory for MySQL is set to /data/mysql by default. If you want to modify MySQL Data Directory, following are the steps for you:</p> <h2 id="modify-mysql-data-directory"><a href="#modify-mysql-data-directory" aria-hidden="true" class="header-anchor">#</a> Modify MySQL Data Directory</h2> <p>The data directory for MySQL is set to <em>/data/mysql</em> by default. If you want to modify MySQL Data Directory, following are the steps for you:</p> <ol><li>Stop the MySQL Service<div class="language-shell extra-class"><pre class="language-text"><code>sudo sytemctl stop mysqld
</code></pre></div></li> <li>Move the <em>/data/mysql</em> to the destination directory, e.g <em>/data/mysql2</em></li> <li>Modify the location of this folder modifying the<code>/etc/my.cnf</code> file, as shown below:<div class="language-shell extra-class"><pre class="language-text"><code>datadir=/data/mysql2
</code></pre></div></li> <li>Restart the MySQL<div class="language-shell extra-class"><pre class="language-text"><code>sudo sytemctl start mysqld
</code></pre></div></li></ol> <h2 id="set-the-binary-log"><a href="#set-the-binary-log" aria-hidden="true" class="header-anchor">#</a> Set The Binary Log</h2> <p>The binary log contains &quot;event&quot; that describe database changes such as table creation operations or changes to table data. It also contains events for statements that potentially could have made changes (for example, a DELETE which matched no rows), unless row-based logging is used. The binary log also contains information about how long each statement took that updated data.</p> <h3 id="binary-log-configuration"><a href="#binary-log-configuration" aria-hidden="true" class="header-anchor">#</a> Binary log configuration</h3> <p>You can modify the MySQL configuration <em>/etc/my.cnf</em> to change the binary log settings<br></p> <div class="language- extra-class"><pre class="language-text"><code>log_bin = mysql-bin      # enable Binary log
binlog_format = mixed    # Binary log format
expire_logs_days = 7     # Binary log expire time
</code></pre></div><h3 id="binary-log-file-size"><a href="#binary-log-file-size" aria-hidden="true" class="header-anchor">#</a> Binary log file size</h3> <p>Some times, there a lot of event for your database, then the binary log file size very rapid growth and your disk space may not enough, if there no space on disk, your MySQL Service can not start.</p> <p>Suggest you change the expire_logs_day to more smaller if you binary log file size is too big</p> <h2 id="secure-mysql"><a href="#secure-mysql" aria-hidden="true" class="header-anchor">#</a> Secure MySQL</h2> <p>Once you have created a new database and user for your application, connect to your MySQL server and follow these recommendations:</p> <ul><li>Remove anonymous users:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span> <span class="token keyword">WHERE</span> <span class="token keyword">User</span><span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Remove the <em>test</em> database and access to it:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> test<span class="token punctuation">;</span>
mysql<span class="token operator">&gt;</span> <span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> mysql<span class="token punctuation">.</span>db <span class="token keyword">WHERE</span> Db<span class="token operator">=</span><span class="token string">'test'</span> <span class="token operator">OR</span> Db<span class="token operator">=</span><span class="token string">'test\\_%'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Disallow root login remotely:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span> <span class="token keyword">WHERE</span> <span class="token keyword">User</span><span class="token operator">=</span><span class="token string">'root'</span> <span class="token operator">AND</span> Host <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token string">'localhost'</span><span class="token punctuation">,</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> <span class="token string">'::1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Don't forget to reload the privileges tables to apply the changes:</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Change your <em>root</em> user password.</li> <li>It is strongly recommended that you do not have empty passwords for any user accounts when using the server for any production work.<br></li> <li>If you don't need remote access, uncomment the line</li></ul> <div class="language- extra-class"><pre class="language-text"><code>#bind-address=127.0.0.1
</code></pre></div><ul><li>in the MySQL configuration file to only listen for connections on the local machine. Restart the server once done.</li></ul> <blockquote><p>Prior to MySQL 5.7, when you installed MySQL, it included a test database by default. This database is only used for testing, but all users who can connect to MySQL have almost all the permissions of the test library, so there are certain security risks. From an information security perspective, if you find that you have the test database in MySQL, be sure to remove it.</p></blockquote></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/Websoft9/ansible-mysql/edit/master/docs/solution-more.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">1/26/2020, 8:47:55 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/mysql/solution-upgrade.html" class="prev">
          Update &amp; Upgrade
        </a></span> <span class="next"><a href="/docs/mysql/admin-services.html">
          Start or Stop the Services
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/docs/mysql/assets/js/app.a0166c7c.js" defer></script><script src="/docs/mysql/assets/js/2.a9bd2ee6.js" defer></script><script src="/docs/mysql/assets/js/11.7d3e3c58.js" defer></script>
  </body>
</html>
